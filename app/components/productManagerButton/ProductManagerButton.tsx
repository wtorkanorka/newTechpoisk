import React, { memo, useState } from "react";

interface IProductManagerButton {
  isWishListButton?: boolean;
  isComparisonButton?: boolean;
  isConfigurationButton?: boolean;
  textContent?: string;
  iconSize?: number;
  onClickFunc?: () => void;
  isActive?: boolean;
  title?: string;
}

export const ProductManagerButton = memo(
  ({
    isWishListButton = false,
    isComparisonButton = false,
    isConfigurationButton = false,
    textContent = "",
    iconSize = 30,
    onClickFunc = () => {},
    isActive,
    title,
  }: IProductManagerButton) => {
    const wichButtonIs =
      isWishListButton === true
        ? "wishlist"
        : isComparisonButton
        ? "comparison"
        : "configurator";
    const [isHovered, setIsHovered] = useState(false);

    const handleMouseEnter = () => {
      setIsHovered(true);
    };

    const handleMouseLeave = () => {
      setIsHovered(false);
    };
    const selectIcon = {
      comparison: (
        <svg
          width="30"
          height="30"
          viewBox="0 0 30 30"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M6.25 14.9576C5.91848 14.9576 5.60054 15.0889 5.36612 15.3227C5.1317 15.5564 5 15.8735 5 16.2041V26.1764C5 26.507 5.1317 26.8241 5.36612 27.0578C5.60054 27.2916 5.91848 27.4229 6.25 27.4229C6.58152 27.4229 6.89946 27.2916 7.13388 27.0578C7.3683 26.8241 7.5 26.507 7.5 26.1764V16.2041C7.5 15.8735 7.3683 15.5564 7.13388 15.3227C6.89946 15.0889 6.58152 14.9576 6.25 14.9576ZM12.5 2.49219C12.1685 2.49219 11.8505 2.62352 11.6161 2.85729C11.3817 3.09106 11.25 3.40812 11.25 3.73872V26.1764C11.25 26.507 11.3817 26.8241 11.6161 27.0578C11.8505 27.2916 12.1685 27.4229 12.5 27.4229C12.8315 27.4229 13.1495 27.2916 13.3839 27.0578C13.6183 26.8241 13.75 26.507 13.75 26.1764V3.73872C13.75 3.40812 13.6183 3.09106 13.3839 2.85729C13.1495 2.62352 12.8315 2.49219 12.5 2.49219ZM25 19.9437C24.6685 19.9437 24.3505 20.075 24.1161 20.3088C23.8817 20.5426 23.75 20.8596 23.75 21.1902V26.1764C23.75 26.507 23.8817 26.8241 24.1161 27.0578C24.3505 27.2916 24.6685 27.4229 25 27.4229C25.3315 27.4229 25.6495 27.2916 25.8839 27.0578C26.1183 26.8241 26.25 26.507 26.25 26.1764V21.1902C26.25 20.8596 26.1183 20.5426 25.8839 20.3088C25.6495 20.075 25.3315 19.9437 25 19.9437ZM18.75 9.97141C18.4185 9.97141 18.1005 10.1027 17.8661 10.3365C17.6317 10.5703 17.5 10.8873 17.5 11.2179V26.1764C17.5 26.507 17.6317 26.8241 17.8661 27.0578C18.1005 27.2916 18.4185 27.4229 18.75 27.4229C19.0815 27.4229 19.3995 27.2916 19.6339 27.0578C19.8683 26.8241 20 26.507 20 26.1764V11.2179C20 10.8873 19.8683 10.5703 19.6339 10.3365C19.3995 10.1027 19.0815 9.97141 18.75 9.97141Z"
            fill={`${isHovered ? "#9E9E9E50" : "#9E9E9E"}`}
          />
        </svg>
      ),
      configurator: (
        <svg
          width="17"
          height="17"
          viewBox="0 0 17 17"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          className="min-w-[17px]"
        >
          <path
            d="M8.16035 10.7094C6.75275 10.7094 5.61035 9.56698 5.61035 8.15938C5.61035 6.75178 6.75275 5.60938 8.16035 5.60938C9.56795 5.60938 10.7104 6.75178 10.7104 8.15938C10.7104 9.56698 9.56795 10.7094 8.16035 10.7094ZM8.16035 6.62938C7.31715 6.62938 6.63035 7.31618 6.63035 8.15938C6.63035 9.00258 7.31715 9.68938 8.16035 9.68938C9.00355 9.68938 9.69035 9.00258 9.69035 8.15938C9.69035 7.31618 9.00355 6.62938 8.16035 6.62938Z"
            fill={`${isActive ? "#fff" : isHovered ? "#FF525280" : "#FF5252"}`}
          />
          <path
            d="M10.3424 15.0893C10.1996 15.0893 10.0568 15.0689 9.91401 15.0349C9.49241 14.9193 9.13881 14.6541 8.91441 14.2801L8.83281 14.1441C8.43161 13.4505 7.88081 13.4505 7.47961 14.1441L7.40481 14.2733C7.18041 14.6541 6.82681 14.9261 6.40521 15.0349C5.97681 15.1505 5.53481 15.0893 5.16081 14.8649L3.99121 14.1917C3.57641 13.9537 3.27721 13.5661 3.14801 13.0969C3.02561 12.6277 3.08681 12.1449 3.32481 11.7301C3.52201 11.3833 3.57641 11.0705 3.46081 10.8733C3.34521 10.6761 3.05281 10.5605 2.65161 10.5605C1.65881 10.5605 0.849609 9.75132 0.849609 8.75852V7.56172C0.849609 6.56892 1.65881 5.75972 2.65161 5.75972C3.05281 5.75972 3.34521 5.64412 3.46081 5.44692C3.57641 5.24972 3.52881 4.93692 3.32481 4.59012C3.08681 4.17532 3.02561 3.68572 3.14801 3.22332C3.27041 2.75412 3.56961 2.36652 3.99121 2.12852L5.16761 1.45532C5.93601 0.999717 6.94921 1.26492 7.41161 2.04692L7.49321 2.18292C7.89441 2.87652 8.44521 2.87652 8.84641 2.18292L8.92121 2.05372C9.38361 1.26492 10.3968 0.999717 11.172 1.46212L12.3416 2.13532C12.7564 2.37332 13.0556 2.76092 13.1848 3.23012C13.3072 3.69932 13.246 4.18212 13.008 4.59692C12.8108 4.94372 12.7564 5.25652 12.872 5.45372C12.9876 5.65092 13.28 5.76652 13.6812 5.76652C14.674 5.76652 15.4832 6.57572 15.4832 7.56852V8.76532C15.4832 9.75812 14.674 10.5673 13.6812 10.5673C13.28 10.5673 12.9876 10.6829 12.872 10.8801C12.7564 11.0773 12.804 11.3901 13.008 11.7369C13.246 12.1517 13.314 12.6413 13.1848 13.1037C13.0624 13.5729 12.7632 13.9605 12.3416 14.1985L11.1652 14.8717C10.9068 15.0145 10.628 15.0893 10.3424 15.0893ZM8.15961 12.5733C8.76481 12.5733 9.32921 12.9541 9.71681 13.6273L9.79161 13.7565C9.87321 13.8993 10.0092 14.0013 10.1724 14.0421C10.3356 14.0829 10.4988 14.0625 10.6348 13.9809L11.8112 13.3009C11.988 13.1989 12.124 13.0289 12.1784 12.8249C12.2328 12.6209 12.2056 12.4101 12.1036 12.2333C11.716 11.5669 11.6684 10.8801 11.9676 10.3565C12.2668 9.83292 12.8856 9.53372 13.6608 9.53372C14.096 9.53372 14.4428 9.18692 14.4428 8.75172V7.55492C14.4428 7.12652 14.096 6.77292 13.6608 6.77292C12.8856 6.77292 12.2668 6.47372 11.9676 5.95012C11.6684 5.42652 11.716 4.73972 12.1036 4.07332C12.2056 3.89652 12.2328 3.68572 12.1784 3.48172C12.124 3.27772 11.9948 3.11452 11.818 3.00572L10.6416 2.33252C10.3492 2.15572 9.96161 2.25772 9.78481 2.55692L9.71001 2.68612C9.32241 3.35932 8.75801 3.74012 8.15281 3.74012C7.54761 3.74012 6.98321 3.35932 6.59561 2.68612L6.52081 2.55012C6.35081 2.26452 5.97001 2.16252 5.67761 2.33252L4.50121 3.01252C4.32441 3.11452 4.18841 3.28452 4.13401 3.48852C4.07961 3.69252 4.10681 3.90332 4.20881 4.08012C4.59641 4.74652 4.64401 5.43332 4.34481 5.95692C4.04561 6.48052 3.42681 6.77972 2.65161 6.77972C2.21641 6.77972 1.86961 7.12652 1.86961 7.56172V8.75852C1.86961 9.18692 2.21641 9.54052 2.65161 9.54052C3.42681 9.54052 4.04561 9.83972 4.34481 10.3633C4.64401 10.8869 4.59641 11.5737 4.20881 12.2401C4.10681 12.4169 4.07961 12.6277 4.13401 12.8317C4.18841 13.0357 4.31761 13.1989 4.49441 13.3077L5.67081 13.9809C5.81361 14.0693 5.98361 14.0897 6.14001 14.0489C6.30321 14.0081 6.43921 13.8993 6.52761 13.7565L6.60241 13.6273C6.99001 12.9609 7.55441 12.5733 8.15961 12.5733Z"
            fill={`${isActive ? "#fff" : isHovered ? "#FF525280" : "#FF5252"}`}
          />
        </svg>
      ),
      wishlist: (
        <svg
          width="30"
          height="30"
          viewBox="0 0 30 30"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M25.2003 6.23296C23.8753 4.90815 22.1189 4.09956 20.2483 3.95325C18.3777 3.80695 16.5163 4.33257 15.0003 5.43517C13.4099 4.2555 11.4303 3.72058 9.46024 3.93813C7.49016 4.15568 5.67589 5.10955 4.38281 6.60765C3.08973 8.10575 2.41387 10.0368 2.49135 12.0119C2.56882 13.9871 3.39387 15.8596 4.80034 17.2523L12.5628 25.0058C13.2129 25.6438 14.0883 26.0013 15.0003 26.0013C15.9124 26.0013 16.7878 25.6438 17.4378 25.0058L25.2003 17.2523C26.6598 15.788 27.479 13.8073 27.479 11.7427C27.479 9.67805 26.6598 7.69731 25.2003 6.23296ZM23.4378 15.5321L15.6753 23.2731C15.587 23.3621 15.4819 23.4327 15.366 23.4809C15.2502 23.529 15.1259 23.5539 15.0003 23.5539C14.8748 23.5539 14.7505 23.529 14.6347 23.4809C14.5188 23.4327 14.4137 23.3621 14.3253 23.2731L6.56284 15.4947C5.58254 14.4954 5.03361 13.1531 5.03361 11.7551C5.03361 10.3572 5.58254 9.0148 6.56284 8.01551C7.56179 7.03197 8.90906 6.48048 10.3128 6.48048C11.7166 6.48048 13.0639 7.03197 14.0628 8.01551C14.179 8.13234 14.3173 8.22508 14.4696 8.28836C14.6219 8.35165 14.7853 8.38423 14.9503 8.38423C15.1154 8.38423 15.2787 8.35165 15.4311 8.28836C15.5834 8.22508 15.7216 8.13234 15.8378 8.01551C16.8368 7.03197 18.1841 6.48048 19.5878 6.48048C20.9916 6.48048 22.3389 7.03197 23.3378 8.01551C24.3316 9.0017 24.8986 10.3368 24.9173 11.7348C24.936 13.1328 24.4049 14.4825 23.4378 15.4947V15.5321Z"
            fill={`${isHovered || isActive ? "#ff5252" : "#9E9E9E"}`}
          />
        </svg>
      ),
    };
    return (
      <button
        title={title}
        onMouseEnter={handleMouseEnter}
        onMouseLeave={handleMouseLeave}
        className={`p-[7px] flex items-center justify-center gap-[8px] whitespace-nowrap `}
        onClick={(e) => {
          e.stopPropagation();
          // if (isWishListButton) {
          //   alert("Добавлено в избранное");
          //   return;
          // }
          // if (isComparisonButton) {
          //   alert("Добавлено в сравнение");
          //   return;
          // }
          // if (isConfigurationButton) {
          //   alert("Конфигурация");
          //   return;
          // }
          onClickFunc();
        }}
      >
        <div
          className={`max-h-[${iconSize}px] max-w-[${iconSize}px] inset-0 ${
            wichButtonIs == "configurator" &&
            `${isHovered ? "border-[#FF525280]" : "border-[#ff5252]"} ${
              isActive && "bg-[#ff5252]"
            } rounded-[43px] p-[7px] border-[1px]`
          }`}
        >
          {selectIcon[wichButtonIs]}
        </div>
        {textContent && (
          <p className="text-[18px] font-[400] select-none">{textContent}</p>
        )}
      </button>
    );
  }
);
